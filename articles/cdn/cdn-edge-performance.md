<properties
    pageTitle="分析 Azure CDN 邊緣效能 |Microsoft Azure"
    description="分析 Microsoft Azure CDN 邊緣節點效能。 邊緣效能分析 CDN 提供細微資訊的流量與頻寬使用方式。"
    services="cdn"
    documentationCenter=""
    authors="camsoper"
    manager="erikre"
    editor=""/>

<tags
    ms.service="cdn"
    ms.workload="tbd"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="07/28/2016"
    ms.author="casoper"/>

# <a name="analyze-edge-node-performance-in-microsoft-azure-cdn"></a>分析 Microsoft Azure CDN 邊緣節點效能

[AZURE.INCLUDE [cdn-premium-feature](../../includes/cdn-premium-feature.md)]

## <a name="overview"></a>概觀
邊緣效能分析 CDN 提供細微資訊的流量與頻寬使用方式。 這項資訊然後可用來產生趨勢的統計資料，可讓您了解在您的資產的正在快取，並傳送至您的用戶端。 這可讓您如何最佳化您的內容的傳送表單策略，來判斷問題應該是處理以更好的善用 cdn 到底。 如此一來，不只將您能夠提升資料傳遞效能，但您也可以縮減您 CDN 的成本。

> [AZURE.NOTE] 所有報表指定日期/時間時，請都使用 UTC/GMT 標記法。

## <a name="reports-and-log-collection"></a>報表和記錄檔集合

可以產生報表之前，必須收集 CDN 活動資料邊緣效能分析模組。 一天，而且涵蓋發生了前一天的活動之後，就會發生此集合程序。 報表的統計資料的時間處理，並不一定是在表示日的統計資料的範例這表示一組完整的資料包含目前的日期。 評估效能為這些報表的主要功能。 他們不應帳單用途的確切的數字統計資料。

> [AZURE.NOTE] 從邊緣效能分析報表所產生的原始資料位於至少 90 天。

## <a name="dashboard"></a>儀表板

[邊緣效能分析儀表板追蹤目前與歷史 CDN 流量的圖表和統計資料。 使用此儀表板偵測到您的帳戶的 CDN 流量的效能最近及長期趨勢。

此儀表板所組成︰

* 互動式圖表，可讓主要的度量和趨勢的視覺效果。
* 時間表，可提供長期圖樣的主要的度量和趨勢。
* 主要的度量和統計資訊我們 CDN 網路皆可改善網站流量測量的整體效能、 使用狀況、 和效率。

### <a name="accessing-the-edge-performance-dashboard"></a>存取邊緣效能儀表板

1. 從 CDN 的設定檔刀中，按一下 [**管理**] 按鈕。

    ![Cdn 到底設定檔刀管理] 按鈕](./media/cdn-edge-performance/cdn-manage-btn.png)

    隨即會開啟 [CDN 管理入口網站。

2. 暫留在 [**分析**] 索引標籤，然後將游標移**邊緣效能分析**延伸。  按一下 [**儀表板**上。

    會顯示邊緣節點分析儀表板。

### <a name="chart"></a>圖表

儀表板包含在時間表的正下方會出現在選取的時間週期追蹤度量單位的圖表。  時間表圖形設定的最後一個兩年的 CDN 活動會顯示圖表的正下方。

#### <a name="using-the-chart"></a>使用圖表

* 根據預設，會繪製快取效率率為 30 天。
* 此圖會產生自動分頁每天的資料。
* 游標暫留在上的折線圖一天會在該日期表示的日期和公制的值。
* 按一下 [醒目提示週末切換重疊的淺灰色的垂直長條代表週末到圖表]。 此類型的覆疊適合用來識別流量模式在週末。
* 按一下 [檢視一年之內在同一個時間週期到圖表中切換重疊的前一年的活動]。 此類型的比較提供深入了解長期 CDN 使用模式。 右上角的 [圖表包含圖例，表示每一個線條圖的色彩代碼。

#### <a name="updating-the-chart"></a>更新圖表

* 時間範圍︰ 執行下列其中一項︰
    * 在時間表中，選取所要的區域。 對應到選定的時間週期內的資料，就會更新圖表。
    * 按兩下圖表以顯示所有可用的歷史資料，上限為兩年。
* 公制︰ 按一下您要的公制旁的圖表圖示。 使用資料的相對應的公制會重新整理圖表和時間表。


### <a name="key-metrics-and-statistics"></a>主要的度量，以及統計資料

#### <a name="efficiency-metrics"></a>效率指標

若要查看是否可改善快取效率是這些度量資訊的用途。 從 [快取效率的主要優點是︰

* 降低的原始伺服器可能會導致負載︰
    * 更好的網頁伺服器效能。
    * 降低營運成本。
* 改良的資料傳遞加速之後會直接從 CDN 提供更多的要求。

功能變數 | 描述
------|------------
快取效率 | 表示傳輸的資料從快取服務的百分比。 此公制量值時所要求的內容的快取版本直接從 CDN （邊緣伺服器） 服務要求 （例如網頁瀏覽器）
按下工資率 | 指出從快取服務的要求的百分比。 此公制量值時所要求的內容的快取版本的服務要求 （例如網頁瀏覽器） 直接從 CDN （邊緣伺服器）。
遠端位元組-沒有快取設定的 % | 指出已從來源伺服器服務來將不會略過快取功能 （HTTP 規則引擎） 當做快取 CDN （邊緣伺服器） 的流量的百分比。
遠端位元組-過期的快取的 % | 指出已從來源伺服器服務至 CDN （邊緣伺服器） 的流量的百分比因過時的內容重新驗證。

#### <a name="usage-metrics"></a>使用指標

這些計量的目的是提供深入下列成本剪下量值︰

* 最小化到 CDN 營運成本。
* 減少透過快取效率和壓縮 CDN 支出。

> [AZURE.NOTE] 流量大量數字代表流量，用於計算的比例和百分比，並可能只顯示部分的總流量的大量的客戶。

功能變數 | 描述
------|------------
輸出 Ave 位元組 | 指出每個要求從 CDN （邊緣伺服器） 提供給要求者 （例如網頁瀏覽器） 傳輸位元組的平均數目。
沒有快取設定位元組工資率 | 指出流量從 CDN （邊緣伺服器） 提供給要求者 （例如網頁瀏覽器），將不會略過快取功能因為快取的百分比。
壓縮的位元組工資率 | 壓縮的格式，指出從 CDN （邊緣伺服器） 傳送到要求 （例如網頁瀏覽器） 的流量的百分比。
輸出位元組 | 表示資料，請在 [已從 CDN （邊緣伺服器） 傳遞給要求者 （例如網頁瀏覽器） 的位元組的量。  
位元組 | 表示的資料，請在位元組，寄件者要求 （例如網頁瀏覽器） CDN （邊緣伺服器）。
位元組遠端 | 表示的資料，請在位元組，從 CDN 及客戶來源伺服器傳送到 CDN （邊緣伺服器）。

#### <a name="performance-metrics"></a>效能指標

這些計量的目的是追蹤您流量的整體 CDN 效能。

功能變數 | 描述
------|------------
傳輸速度 | 指出哪些內容已傳輸從 CDN 者平均工資率。
持續時間 | 指出平均的時間，花費以毫秒為單位，為要求者 （例如網頁瀏覽器） 發表資產。
壓縮的要求率 | 指出已從 CDN （邊緣伺服器） 傳遞給要求者 （例如網頁瀏覽器） 的點擊百分比壓縮的格式。
4xx 錯誤工資率 | 指出產生 4xx 狀態碼的點擊百分比。
5xx 錯誤工資率 | 指出產生 5xx 狀態碼的點擊百分比。
瀏覽人數 | 指出 CDN 內容要求的數目。

#### <a name="secure-traffic-metrics"></a>保護傳輸指標

這些計量的目的是追蹤 HTTPS 流量的 CDN 效能。

功能變數 | 描述
------|------------
安全的快取效率 | 指出傳輸的服務的 HTTPS 要求從快取資料的百分比。 此公制量值時所要求的內容的快取版本是透過 HTTPS，直接從 CDN （邊緣伺服器） 提供給要求 （例如網頁瀏覽器）。
安全傳輸速度 | 透過 HTTPS 指出哪些內容已傳輸 CDN （邊緣伺服器） 從要求 （例如網頁伺服器） 的平均率。
平均安全的持續時間 | 指出平均的時間，花費以毫秒為單位，透過 HTTPS 傳遞為要求者 （例如網頁瀏覽器） 的資產。
安全點擊 | 指出 HTTPS 要求 CDN 內容的數目。
輸出安全位元組 | 指出 HTTPS 流量，位元組，已從 CDN （邊緣伺服器） 傳遞給要求者 （例如網頁瀏覽器） 中。

## <a name="reports"></a>報表

本單元中的每個報表包含圖表與不同類型的指標的頻寬與交通流量的統計資料 （例如 HTTP 狀態碼，快取狀態碼，要求 URL 等等。）。 深入探究如何內容正在處理您的用戶端和微調 CDN 行為，以提升資料傳遞效能，可能會使用這項資訊。

### <a name="accessing-the-edge-performance-reports"></a>存取邊緣效能報告

1. 從 CDN 的設定檔刀中，按一下 [**管理**] 按鈕。

    ![Cdn 到底設定檔刀管理] 按鈕](./media/cdn-edge-performance/cdn-manage-btn.png)

    隨即會開啟 [CDN 管理入口網站。

2. 暫留在 [**分析**] 索引標籤，然後將游標移**邊緣效能分析**延伸。  按一下**HTTP 大型物件**。

    [邊緣節點分析報表] 畫面會顯示。

報表 | 描述
-------|------------
每日的摘要 | 可讓您指定的時間內檢視的每日流量趨勢。 此圖形上的每個橫條均代表特定的日期。 列的大小會指出在該日期所發生的總次數。
每小時的摘要 | 可讓您指定的時間內檢視每小時流量趨勢。 此圖形上的每個橫條均代表在特定日期在單一小時。 列的大小會指出該小時期間發生的總次數。
通訊協定 | 顯示之間的 HTTP 和 HTTPS 通訊協定的流量分析。 甜甜圈圖會指出每種類型的通訊協定發生的點擊百分比。
HTTP 方法 | 可讓您瞭解快速哪些 HTTP 的方法用來要求您的資料。 一般而言，最常見的 HTTP 要求方法是取得不對，與張貼。 甜甜圈圖表示每一種 HTTP 要求方法所發生的點擊的百分比。
Url | 包含圖形會顯示前 10 個要求的 Url。 列會顯示每個 URL。 列高指出特定的 URL 為時間範圍內所產生的幾次所涵蓋的報表。 前 100 個統計資料要求的 Url 會顯示此圖形的正下方。
CNAMEs | 包含圖形顯示用來要求資產一段時間的 10 個 CNAMEs 橫跨報表的頂端。 前 100 個統計資料要求 CNAMEs 會顯示此圖形的正下方。
來源 | 顯示前 10 個 CDN 圖表] 或 [從要求資產在指定的一段時間的客戶來源伺服器的內容。 前 100 個統計資料要求 CDN 或客戶來源伺服器會顯示此圖形的正下方。 在 [目錄名稱] 選項中定義的名稱來識別客戶來源伺服器。
地理 Pop | 顯示您的流量中有多少都會傳遞到特定--存在點 (POP)。 三個字母縮寫表示我們 CDN 網路中的 POP。
用戶端 | 包含顯示前 10 個用戶端要求資產在指定的一段時間的圖形。 這份報表的用途，所有來自相同的 IP 位址的要求會被視為相同用戶端。 前 100 位客戶的統計資料會顯示此圖形的正下方。 此報表適合用來決定您上方的用戶端的下載活動模式。
快取的狀態 | 可讓快取行為，可能會顯示改善的整體使用者經驗的方法詳細的解說。 最快的效能來自快取點擊率，因為您可以最佳化至快取遺漏和過期的快取點擊資料傳遞速度。
無詳細資料 | 包含顯示快取內容新鮮度不檢查指定期間內的資產的前 10 個 Url 的圖形。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
CONFIG_NOCACHE 詳細資料 | 包含圖形會顯示前 10 Url，因為客戶的 CDN 設定不快取的資產。 直接從原始伺服器服務這些類型的資產。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
快取的詳細資料 | 包含圖形會顯示可能不會因為要求標題的資料快取的資產的前 10 個 Url。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
TCP_HIT 詳細資料 | 包含圖形顯示從快取立即提供的資產的前 10 個 Url。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
TCP_MISS 詳細資料 | 包含顯示上方的快取的狀態 TCP_MISS 資產的 10 個 Url 的圖形。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
TCP_EXPIRED_HIT 詳細資料 | 包含顯示直接從快顯所提供的過期資產的前 10 Url 的圖形。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
TCP_EXPIRED_MISS 詳細資料 | 包含圖形會顯示新的版本必須從來源伺服器擷取的過期資產的上方 10 Url。 直接以下此圖形顯示針對這些類型的資產的上方 100 Url 的統計資料。
TCP_CLIENT_REFRESH_MISS 詳細資料 | 包含顯示前 10 Url 的資產擷取原始伺服器因為沒有快取要求從用戶端的橫條圖。 針對這些類型的邀請前 100 Url 的統計資料會顯示此圖表的正下方。
用戶端要求類型 | 指出所做的 HTTP 用戶端 （例如，[瀏覽器]） 的要求的類型。 此報表包含提供如何處理要求的存有意義的甜甜圈圖表。 針對每個要求類型的頻寬與流量資訊會顯示圖表下方。
使用者代理程式 | 包含長條圖顯示前 10 個使用者代理程式要求您透過我們 CDN 的內容。 通常，使用者代理程式會在網頁瀏覽器、 媒體播放或在行動電話的瀏覽器。 前 100 使用者代理程式的統計資料會顯示此圖表的正下方。
推薦者 」 | 包含透過我們 CDN 存取的內容顯示 10 排行榜橫條圖。 一般而言，查閱者的資源，連結到您的內容或網頁的 URL。 前 100 個推薦者 」 的圖形下方提供詳細的資訊。
壓縮類型 | 包含細分要求資產，我們邊緣伺服器是否已壓縮甜甜圈圖。 壓縮資產的百分比分解所使用的壓縮類型。 為每個壓縮類型和狀態圖形下方提供詳細的資訊。
檔案類型 | 包含顯示前 10 的檔案類型已要求透過您的帳戶我們 CDN 橫條圖。 此報表的目的，檔案類型由定義資產的副檔名，網際網路媒體類型 (例如，.html\[文字/html\]，.htm\[文字/html\]，.aspx\[文字/html\]等。)。 上方的 100 的檔案類型的圖形下方提供詳細的資訊。
唯一的檔案 | 包含圖形的繪圖的唯一資產在指定的一段時間要求在特定日期的總數量。
權杖驗證摘要 | 包含提供的快速概觀要求的資產已受權杖型驗證的圓形圖。 受保護的資產會顯示在圖表中根據他們嘗試驗證的結果。
權杖驗證拒絕詳細資料 | 包含可讓您檢視已拒絕因為權杖型驗證前 10 個要求橫條圖。
HTTP 回應碼 | 分解 HTTP 狀態碼 (例如，200 [確定]，403 禁止，404 找不到，等) 的已傳遞到您的 HTTP 用戶端，我們邊緣伺服器。 圓形圖可讓您快速存取您的資產如何服務。 針對每個圖形下方的回應代碼提供詳細的統計資料。
404 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致出現 404 找不到回應代碼橫條圖。
403 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致 403 禁止回應碼橫條圖。 要求已被拒絕客戶原始伺服器或 edge server 上我們 POP 時發生 403 禁止回應代碼。
4xx 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致 400 範圍中的回應碼橫條圖。 從報表中排除是 403 找不到和 404 禁止回應。 一般而言，要求被拒絕當做用戶端錯誤時，就會發生 4xx 回應程式碼。
504 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致 504 閘道逾時回應代碼橫條圖。 當 HTTP proxy 嘗試與其他伺服器通訊時，會發生逾時，會出現 504 的閘道器會出現逾時回應程式碼。 如果我們 CDN，504 的閘道器會出現逾時回應碼會發生 edge server 時無法建立與客戶來源伺服器的通訊。
502 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致 502 不正確的閘道回應代碼橫條圖。 HTTP 通訊協定發生錯誤時，在伺服器之間 HTTP proxy]，就會發生的 502 不正確的閘道回應碼。 如果我們 CDN，502 不正確的閘道回應代碼會發生客戶原始伺服器傳回 edge server 的回應無效時。 如果無法剖析或未完成時，回應不正確。
5xx 錯誤 | 包含可讓您檢視頂端的 10 個要求而導致 500 範圍中的回應碼橫條圖。  從報表中排除是 502 不正確的閘道和 504 閘道逾時回應。

## <a name="see-also"></a>另請參閱
* [Azure CDN 概觀](cdn-overview.md)
* [在 Microsoft Azure CDN 即時統計資料](cdn-real-time-stats.md)
* [覆寫預設 HTTP 行為使用規則引擎](cdn-rules-engine.md)
* [進階的 HTTP 報表](cdn-advanced-http-reports.md)
