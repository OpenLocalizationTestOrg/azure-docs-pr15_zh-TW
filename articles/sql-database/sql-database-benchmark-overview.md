<properties
    pageTitle="Azure SQL 資料庫事先概觀"
    description="本主題說明 Azure SQL 資料庫基準測試用來測量 Azure SQL 資料庫的效能。"
    services="sql-database"
    documentationCenter="na"
    authors="CarlRabeler"
    manager="jhubbard"
    editor="monicar" />


<tags
    ms.service="sql-database"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="data-management"
    ms.date="06/21/2016"
    ms.author="carlrab" />

# <a name="azure-sql-database-benchmark-overview"></a>Azure SQL 資料庫事先概觀

## <a name="overview"></a>概觀
Microsoft Azure SQL 資料庫提供三種[服務層](sql-database-service-tiers.md)以多個效能層級。 每個效能層級提供增加的資源或 「 power'，設計進行越來越處理量。

請務必能計算的每個效能層級增加 power 轉譯提高的資料庫效能的方式。 若要執行此 Microsoft 開發 Azure SQL 資料庫事先 (ASDB)。 基準測試執行基本作業中所有的 OLTP 工作負載的。 我們測量達成在每個效能層級中執行的資料庫的處理能力。

資源和每個服務層和效能層級的是以[資料庫交易](sql-database-technical-overview.md#understand-dtus)單位 (DTUs) 表示。 DTUs 會提供說明根據混合的量值的 CPU、 記憶體、 效能層級的相對容量與讀取和寫入費率所提供的每個效能層級。 加倍資料庫 power 等於加倍 DTU 評等的資料庫。 事先讓我們進行評估的每個效能層級所執行實際的資料庫作業時縮放比例資料庫大小]，[使用者和資源資料庫所提供的比例百分比的交易比率的數字增加 power 資料庫效能的影響。

以表示基本服務層的使用交易每小時、 標準服務層使用交易每分鐘，以及進階版服務層使用交易秒，其可讓您快速建立關聯效能變得更容易潛在的每個應用程式的需求層。

## <a name="correlating-benchmark-results-to-real-world-database-performance"></a>以真實資料庫效能的相互關聯基準測試結果
請務必瞭解 ASDB，所有的基準測試，例如並代表和表示只。 達成事先應用程式的交易工資率不會在那些可能會與其他應用程式來達成相同。 事先包含各種不同的交易類型執行結構描述包含資料表與資料類型的範圍。 雖然事先運用常見所有 OLTP 工作負載均相同的基本作業，不表示任何特定類別的資料庫或應用程式。 基準測試的目標是資料庫的提供給合理指南相對效能的預期時縮放比例向上或向下效能層級之間。 實際上，資料庫的不同的大小和複雜程度、 發生的工作量，不同的混合，以不同方式將回應。 例如，IO 密切應用程式可能會更快，按 IO 臨界值，或需要大量 CPU 的應用程式可能會更快點擊 CPU 限制。 有任何特定的資料庫會在下增加負載事先相同的方式來縮放不保證。

詳情請見下方說明事先和其方法。

## <a name="benchmark-summary"></a>事先摘要
ASDB 測量的線上交易處理 (OLTP) 工作負載中最常發生基本的資料庫作業的效能。 雖然雲端運算記住、 資料庫結構描述和資料母體中設計事先和交易有設計廣泛代表最常用的 OLTP 工作負載的基本項目。

## <a name="schema"></a>結構描述
結構描述設計有足夠的各種不同和複雜度支援廣泛的作業。 針對包含六個資料表的資料庫，執行基準測試。 資料表分成三個類別︰ 固定大小，縮放比例和成長。 有兩個資料表的固定大小。三個縮放比例的資料表。與一個成長的資料表。 固定大小資料表有特定數目的列。 縮放比例的資料表有比例資料庫效能，但不會變更基準測試期間的基數。 持續增加表格的大小等初始載入，但然後過程中插入列，以及刪除執行事先基數變更縮放比例資料表。

結構描述中包含的資料類型，其中包括整數、 數字、 字元，以及日期/時間。 結構描述包括主要和次要鍵，但沒有任何外部索引鍵，也就是資料表之間有都沒有參考完整性的條件約束。

資料產生程式會產生初始資料庫的資料。 使用各種不同的策略產生整數和數字的資料。 在某些情況下，值分佈隨機範圍。 在其他情況下，一組值是隨機 permuted 以確保維護的特定的通訊群組。 文字] 欄位會產生加權清單中的文字，以產生實際外觀的資料。

資料庫大小是根據 「 縮放比例]。 （縮寫為 SF） 的縮放比例會決定的縮放和成長表格的基數。 如下所述] 區段中的使用者和步調，資料庫大小的使用者，以及所有不按比例縮放比例彼此百分比的效能最大的數字。

## <a name="transactions"></a>交易
工作負載所組成九個交易類型，如下表所示。 每次交易是設計用來醒目提示一組特定資料庫引擎與系統硬體，以從其他的交易高對比的系統特性。 這個方法可讓您更容易評估不同元件的整體效能的影響。 例如 「 閱讀大量 」 交易產生大量從磁碟讀取作業。

| 交易類型 | 描述 |
|---|---|
| 閱讀精簡 | 選取;在記憶體;唯讀狀態 |
| 閱讀媒體 | 選取;大部分的記憶體;唯讀狀態 |
| 閱讀大量 | 選取;通常不在記憶體;唯讀狀態 |
| 精簡的更新 | 更新項目。在記憶體;讀寫 |
| 大量更新 | 更新項目。通常不在記憶體;讀寫 |
| 插入精簡 | 插入;在記憶體;讀寫 |
| 插入大量 | 插入;通常不在記憶體;讀寫 |
| 刪除 | 刪除;混合的記憶體中並不在記憶體;讀寫 |
| CPU 大量 | 選取;在記憶體;以往大量 CPU 負載;唯讀狀態 |

## <a name="workload-mix"></a>工作負載混合
交易隨機選取下列整體混合加權分配。 整體混合有的讀/寫比率大約 2:1。

| 交易類型 | 混合的 % |
|---|---|
| 閱讀精簡 | 35 |
| 閱讀媒體 | 20 |
| 閱讀大量 | 5 |
| 精簡的更新 | 20 |
| 大量更新 | 3 |
| 插入精簡 | 3 |
| 插入大量 | 2 |
| 刪除 | 2 |
| CPU 大量 | 10 |

## <a name="users-and-pacing"></a>使用者和步調
事先工作量會導向連線至模擬的數字的使用者同時行為的一組提交交易的工具。 雖然所有連線和交易機器產生，為求我們都稱這些連線為 「 使用者 」。 雖然每位使用者的運作方式亦所有其他的使用者，所有使用者都執行步驟所示的相同循環的圖︰

1. 建立資料庫連線。
2. 若要結束通知，請重複︰
    - 選取 [隨機 （從加權分配） 交易]。
    - 執行選取的交易和測量回應時間。
    - 等待步調延遲。
3. 關閉資料庫連線。
4. 結束。

步調的延遲 （在步驟 2 c） 已隨機，但具有 1.0 第二個平均分配。 因此每位使用者可以、 平均，會產生一次交易最秒。

## <a name="scaling-rules"></a>縮放比例的規則
取決於資料庫大小 （單位縮放比例） 的使用者數目。 有一位使用者的每個五個的縮放比例單位。 由於步調延遲，一位使用者可以平均產生最一次交易秒。

例如，調整係數的 500 (SF = 500) 資料庫會有 100 個使用者，並可以達到 100 TPS 最大工資率。 磁碟機較高的 TPS 工資率會需要更多使用者與較大的資料庫。

下表顯示實際維持每個服務層和效能層級的使用者數目。

| 服務層級 （效能層級） | 使用者 | 資料庫大小 |
|---|---|---|
| 基本 | 5 | 720 MB |
| 標準 (S0) | 10 | 1 GB |
| 標準 (S1) | 20 | 2.1 GB |
| 標準 (S2) | 50 | 7.1 GB |
| 進階版 (P1) | 100 | 14 GB |
| 進階版 (P2) | 200 | 28 GB |
| 進階版 （P6/第 3 頁） | 800 | 114 GB |

## <a name="measurement-duration"></a>度量單位的工期
執行的有效基準需要穩定的度量單位的工期至少一個小時。

## <a name="metrics"></a>指標
主要的度量基準測試中是處理量] 和 [回應] 時間。

- 處理量是不可或缺的效能度量基準測試中。 在 [每單位的-階段，計算所有交易類型交易中報告處理量。
- 回應時間是效能可預測的量值。 回應時間限制式不盡相同的服務，較高的類別，有更嚴格的回應時間需求，如下所示的服務的類別。

| 服務類別  | 處理量量值 | 回應時間需求 |
|---|---|---|
| 進階版 | 每秒交易 | 在 0.5 秒 95th 百分位數 |
| 標準 | 每分鐘交易 | 在 1.0 秒 90th 百分位數 |
| 基本 | 每小時的交易 | 在 2.0 秒 80th 百分位數 |

## <a name="conclusion"></a>結束時
Azure SQL 資料庫事先測量相關的 Azure SQL 資料庫的可用服務層和效能層級範圍執行效能。 基準測試執行基本的資料庫作業就會發生最常在線上交易處理 (OLTP) 工作負載的。 測量實際的效能，事先提供的比只列出每個層級，例如 CPU 速度、 記憶體大小和 IOPS 所提供的資源，變更的效能層級的影響更有意義的可能性。 在未來，我們會繼續發展事先其範圍擴大並展開所提供的資料。

## <a name="resources"></a>資源
[SQL 資料庫的簡介](sql-database-technical-overview.md)

[服務層和效能層級](sql-database-service-tiers.md)

[單一資料庫的效能指引](sql-database-performance-guidance.md)
