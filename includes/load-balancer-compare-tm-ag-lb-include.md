## <a name="load-balancer-differences"></a>負載平衡器的差異

有不同的選項，發佈使用 Microsoft Azure 網路流量。 這些選項才能運作方式會不同彼此，有不同的功能設定及支援不同情況。 他們可以各單獨使用，或將其合併。

- **Azure 負載平衡器**運作在傳輸層級 (OSI 網路參考堆疊的圖層 4)。 在執行相同的 Azure 資料中心的應用程式的執行個體提供網路層級的流量的通訊群組。

- 在應用程式層級 (OSI 網路參照堆疊的圖層 7) 的運作**的應用程式的閘道器**。 將其做為反向 proxy 服務，用戶端連線及轉寄要求後端結束點。

- **流量管理員**會在 DNS 層級。  它會使用 DNS 回應，將使用者流量導向全域分散式結束點。 用戶端連線到這些端點直接。

下表摘要列出每個服務所提供的功能︰

| 服務 | Azure 負載平衡器 | 應用程式的閘道器 | 流量管理員 |
|---|---|---|---|
|技術| 傳輸層級 ([圖層 4) | 應用程式層級 (第 7 層) | DNS 層級 |
| 應用程式支援的通訊協定 | 任何 | HTTP 和 HTTPS |  任何 （HTTP 端點是必要的端點監控） |
| 結束點 | Azure Vm 和雲端服務角色執行個體 | 任何 Azure 內部 IP 位址或公用網際網路 IP 位址 | Azure Vm、 雲端服務，Azure Web 應用程式，與外部的端點 |
| Vnet 支援 | 可以使用兩個網際網路具和內部 (Vnet) 應用程式 | 可以使用兩個網際網路具和內部 (Vnet) 應用程式 |    僅支援網際網路的應用程式 |
監控端點 | 支援透過探查 | 支援透過探查 | 透過 HTTP/HTTPS 取得支援 | 

Azure 負載平衡器和應用程式閘道傳送網路流量端點，但有不同的使用案例處理哪些流量。 下表可協助您瞭解兩個負載平衡器之間的差異︰

| 類型 | Azure 負載平衡器 | 應用程式的閘道器 |
|---|---|---|
| 通訊協定 | UDP/TCP | HTTP / HTTPS |
| IP 保留 | 支援 | 不支援 | 
| 負載平衡模式 | 5-tuple(source IP, source port, destination IP, destination port, protocol type) | 循環<br>路由根據 URL | 
| 負載平衡模式 (來源 IP / 黏工作階段) |  2-表示 tuple （IP 來源與目的地 IP），3 tuple （來源 IP、 目的地 IP 和連接埠）。 可以不按比例縮放上或往下根據虛擬機器數目 | Cookie 為基礎的相似性<br>路由根據 URL |
| 狀況探查 | 預設值︰ 探查間隔-15 秒。 從旋轉︰ 2 連續失敗次數。 使用者定義的支援探查 | 閒置探查間隔 30 秒。 5 個連續的即時流量失敗或閒置模式中的單一探查失敗後移。 使用者定義的支援探查 | 
| 將 SSL 卸載 | 不支援 | 支援 | 
  