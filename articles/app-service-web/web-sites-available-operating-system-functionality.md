<properties 
    pageTitle="Azure 應用程式服務的作業系統功能" 
    description="深入了解 OS 功能可用於 web 應用程式、 行動應用程式 backends 和 Azure 應用程式服務的 API 應用程式" 
    services="app-service" 
    documentationCenter="" 
    authors="cephalin" 
    manager="wpickett" 
    editor="mollybos"/>

<tags 
    ms.service="app-service" 
    ms.workload="web" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="07/01/2016" 
    ms.author="cephalin"/>

# <a name="operating-system-functionality-on-azure-app-service"></a>Azure 應用程式服務的作業系統功能 #

本文將說明常見的比較基準作業系統功能[Azure 應用程式服務](http://go.microsoft.com/fwlink/?LinkId=529714)上執行的所有應用程式可供使用。 此功能，包含檔案、 網路，並登錄存取和診斷記錄及事件。 

<a id="tiers"></a>
## <a name="app-service-plan-tiers"></a>應用程式服務方案層

應用程式服務執行多租用戶的代管環境中的客戶應用程式。 應用程式中的**免費**，**共用**層部署執行背景工作處理程序中共用的虛擬機器上而應用程式中的**標準**和**進階版**層部署上執行虛擬機器移專用專為單一客戶相關聯的應用程式。

因為應用程式服務支援不同層之間順暢縮放比例體驗，強制執行的應用程式服務應用程式的安全性設定保持不變。 這樣的應用程式沒有突然會有不同行為，應用程式服務方案從一層切換到另一個非預期的方式，失敗。

<a id="developmentframeworks"></a>
## <a name="development-frameworks"></a>開發架構

應用程式服務價格層控制的計算資源 （CPU、 磁碟儲存空間、 記憶體和網路出口） 應用程式。 不過，強大的應用程式中可用的架構功能會保持相同的縮放比例層。

應用程式服務支援各種不同的開發架構，包括 ASP.NET、 傳統 ASP、 node.js，PHP 和 Python-全部都執行 IIS 中的副檔名為。 若要簡化及標準化安全性設定，應用程式服務應用程式通常要執行各種開發架構的預設設定。 設定應用程式的其中一個方法有可能來自訂 API 面與每個個別的開發架構的功能。 應用程式服務改為採取其他一般的方式，讓常見的應用程式開發架構無論作業系統功能的比較基準。

下節概述作業系統功能才能使用應用程式服務應用程式的一般種類。

<a id="FileAccess"></a>
##<a name="file-access"></a>檔案存取權

應用程式服務，包括本機磁碟機和網路磁碟機中，有不同的磁碟機。

<a id="LocalDrives"></a>
### <a name="local-drives"></a>本機磁碟機

核心應用程式服務的服務正在執行 Azure PaaS （平台的服務） 基礎結構的上方。 如此一來，「 連結 」 至虛擬機器本機磁碟機是 Azure 中執行任何工作角色，您可以使用相同的磁碟機類型。 包括作業系統磁碟機 （D:\ 磁碟機）、 應用程式的磁碟機中包含 Azure 套件 cspkg 檔獨佔由應用程式服務 （與無法存取客戶），以及 「 使用者 」 磁碟機 （C:\ 磁碟機），其大小異 VM 的大小。

<a id="NetworkDrives"></a>
### <a name="network-drives-aka-unc-shares"></a>網路磁碟機 （又稱 UNC 共用）

可讓您應用程式部署及維護乾淨的簡單的應用程式服務的唯一方面的是所有使用者的內容都儲存在 UNC 共用一組。 此模型妥當對應的內部部署虛擬主機有多個負載平衡伺服器的環境所使用的內容儲存空間的常見模式。 

在應用程式服務，有數字的每個資料中心裡建立 UNC 共用。 每個資料中心裡的所有客戶的使用者內容的百分比配置每個 UNC 共用。 此外，所有內容的單一客戶的訂閱一律會位於相同 UNC 檔案共用。 

請注意，因為雲端服務工作的方式，特定負責主控 UNC 共用的虛擬機器會隨著時間。 保證的向上和向下匯標準過程中的雲端作業時，將會不同的虛擬機器裝載 UNC 共用。 因此，應用程式應該永遠不會進行的電腦中的資訊 UNC 檔案路徑仍會維持穩定一段時間的硬式編碼假設。 不過，他們應該使用方便*項* **D:\home\site**應用程式服務所提供的絕對路徑。 此項絕對路徑提供的可攜式應用程式和-使用者-無關方法參照至自己的應用程式。 藉由使用**D:\home\site**，其中一個可以傳輸共用的檔案應用程式至應用程式而不需要針對每個傳輸設定新的絕對路徑。

<a id="TypesOfFileAccess"></a>
### <a name="types-of-file-access-granted-to-an-app"></a>檔案存取權授與應用程式的類型

每個客戶的訂閱有特定 UNC 共用資料中心的保留的目錄結構。 客戶可能有多個建立的應用程式中的特定資料中心，所有屬於單一客戶訂閱目錄會建立在同一個 UNC 共用。 共用可能包含那些內容、 錯誤和診斷記錄]，與舊版的來源控制項所建立的應用程式目錄。 如預期般，客戶的應用程式目錄的讀取與寫入存取權的應用程式的應用程式碼執行階段可供使用。

附加至虛擬機器執行應用程式的本機磁碟機，應用程式服務會保留的特定應用程式的暫時本機存放裝置 C:\ 磁碟空間。 雖然應用程式的完整的讀/寫權自己暫時本機存放區，該儲存真的不想要直接使用的應用程式碼。 相反地，目的是要 IIS 和 web 應用程式架構提供暫存檔案儲存空間。 應用程式服務也會限制可用來防止個別的應用程式使用本機的檔案儲存空間的每一個應用程式的暫時本機儲存空間的量。

應用程式服務如何使用本機暫存的兩個範例暫存 ASP.NET 檔案的目錄，而且 iis 目錄壓縮的檔案。 ASP.NET 編譯系統會使用 「 暫存 ASP.NET 檔案 」 目錄，為暫存編譯快取位置。 IIS 會使用 「 IIS 暫存壓縮檔案 」 目錄來儲存壓縮的回應輸出。 兩種類型的檔案使用量 （以及其他人） 每個應用程式暫時本機存放區重新對應在應用程式服務。 此重新對應，可確保功能會繼續，如預期般。

在應用程式服務中的每一個應用程式執行為隨機唯一的最低權限背景工作程序的身分識別，稱為 「 應用程式集區身分識別 」，此處所述進一步︰ [http://www.iis.net/learn/manage/configuring-security/application-pool-identities](http://www.iis.net/learn/manage/configuring-security/application-pool-identities)。 應用程式碼會使用此識別基本唯讀存取作業系統磁碟機 （D:\ 磁碟機）。 這表示應用程式碼可以清單常見的目錄結構，並閱讀作業系統磁碟機上共用的檔案。 雖然這可能看起來似乎有點主要存取層級、 相同目錄以及檔案都可以存取，當您佈建 Azure 的工作者角色代管服務，並閱讀磁碟機內容。 

<a name="multipleinstances"></a>
### <a name="file-access-across-multiple-instances"></a>跨多個執行個體的檔案存取權

主目錄包含應用程式的內容，而且可以寫入應用程式碼。 如果應用程式執行多個執行個體，主目錄是所有執行個體共用，好讓所有執行個體看到相同的目錄。 因此，例如，如果應用程式儲存上傳的檔案的主目錄，這些檔案可立即所有執行個體。 

<a id="NetworkAccess"></a>
## <a name="network-access"></a>網路存取
應用程式碼就可以使用 TCP/IP 和 UDP 依據通訊協定，讓輸出網路連線至網際網路存取端點的外部服務的方式公開。 應用程式可以使用這些相同的通訊協定來連線到服務中 Azure & #151; 例如，藉由建立 HTTPS 連線到 SQL 資料庫。

此外，還有建立一個本機迴路連線，並讓該本機迴路通訊端接聽應用程式的應用程式的有限的功能。 此功能存在主要，以便為其功能的一部分接聽本機迴路通訊端的應用程式。 請注意，每一個應用程式會看到 「 私人 」 的迴路連線。應用程式"B"所建立的本機迴路通訊端無法接聽應用程式"A"。

具名的管道也支援為不同的程序，共同執行應用程式之間的程序間通訊 (IPC) 機制。 例如，IIS FastCGI 模組依賴具名管道執行 PHP 網頁個別處理程序進行共同作業。


<a id="Code"></a>
## <a name="code-execution-processes-and-memory"></a>執行程式碼、 程序和記憶體
如先前所述，應用程式執行內使用隨機應用程式集區身分識別的最低權限背景工作處理程序。 應用程式碼具有的存取權的背景工作程序，以及 CGI 程序或其他應用程式可能會產生任何子程序與相關聯的記憶體空間。 不過，其中一個應用程式無法存取超出記憶體或另一個應用程式的資料，即使是在相同的虛擬機器上。

應用程式可以執行指令碼或撰寫與支援的網頁開發架構的頁面。 應用程式服務不設定任何的 web 架構設定，以限制的模式。 例如，應用程式服務上執行的 ASP.NET 應用程式執行 「 完全 」 的信任，而不是限制的信任模式中。 Web 架構，包括傳統 ASP 和 ASP.NET，可以呼叫像 ADO (ActiveX Data Objects) 註冊 Windows 作業系統上預設的程序中 COM 元件 （但不是出的程序 COM 元件）。

應用程式，可以產生並執行任何程式碼。 這是允許執行項目，例如產生的命令殼層或執行 PowerShell 指令碼應用程式。 不過，雖然可以產生任意程式碼與處理程序，從應用程式，可執行的程式和指令碼限於仍的權限的上層應用程式集區。 例如，應用程式便會產生輸出 HTTP 呼叫，可讓您可執行檔，但相同可執行檔不能嘗試解除其 NIC 虛擬機器的 IP 位址的連結 進行輸出網路通話允許低權限的程式碼，但嘗試重新設定網路設定虛擬機器需要系統管理員權限。


<a id="Diagnostics"></a>
## <a name="diagnostics-logs-and-events"></a>診斷記錄及事件
記錄檔資訊是另一組資料的部分應用程式嘗試存取。 應用程式服務中執行的程式碼的記錄資訊的類型包含診斷和記錄產生的應用程式，同時也是可輕鬆存取應用程式的資訊。 

例如，W3C HTTP 記錄產生的使用中應用程式，可記錄目錄如果客戶已設定 W3C 記錄，以儲存建立的應用程式，或 blob 儲存體中可用的網路共用位置上。 第二個選項可讓大量記錄檔給收集不超過相關聯的網路共用的檔案儲存空間限制的風險。

同樣地，.NET 應用程式的即時的診斷資訊可以也來登入的.NET 追蹤及診斷基礎結構] 選項以撰寫追蹤資訊至其中一個應用程式的網路共用，或者 blob 儲存位置。

無法使用應用程式的診斷記錄及追蹤的是 Windows ETW 事件和一般的 Windows 事件記錄 （例如系統、 應用程式及安全性事件記錄檔）。 由於 ETW 追蹤資訊可能為轉為全機器 （含右側 Acl），讀取與寫入存取 ETW 事件會遭到封鎖。 開發人員可能會注意到，使其出現成功讀取和寫入 ETW 事件與一般的 Windows 事件記錄檔顯示搭配使用，但這是因為應用程式服務 「 假裝 」 來電會撥打 API。 現實情況下，在應用程式碼會有不能存取此事件資料。

<a id="RegistryAccess"></a>
## <a name="registry-access"></a>登錄存取
應用程式可以唯讀存取許多 （但非全部） 的虛擬機器執行的登錄機碼。 在練習中，這表示登錄機碼，允許的本機的使用者群組的唯讀存取都可以存取應用程式。 目前不支援的讀取或寫入存取權的登錄的一個區域是 HKEY\_目前\_使用者群組。

登錄機碼寫入存取遭到封鎖，包括存取任何每位使用者登錄機碼。 從應用程式的觀點來看，寫入存取權登錄機碼應該永不依賴 Azure 環境中由於應用程式可以 （與執行） 跨不同的虛擬機器移轉。 應用程式，可以相依於只常設寫入的儲存是儲存在應用程式服務 UNC 共用上的每個應用程式內容目錄結構。 

>[AZURE.NOTE] 如果您想要開始使用 Azure 應用程式服務註冊 Azure 帳戶之前，請移至[嘗試應用程式服務](http://go.microsoft.com/fwlink/?LinkId=523751)，可以讓您立即建立短暫入門 web 應用程式在應用程式服務。 必要; 沒有信用卡沒有承諾。

[AZURE.INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]
 
 
