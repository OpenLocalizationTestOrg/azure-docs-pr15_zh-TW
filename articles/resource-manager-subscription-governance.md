<properties
   pageTitle="最佳作法，移至 Azure 企業版 |Microsoft Azure"
   description="描述 [企業可用來確保安全和管理的環境 scaffold。"
   services="azure-resource-manager"
   documentationCenter="na"
   authors="rdendtler"
   manager="timlt"
   editor="tysonn"/>

<tags
   ms.service="azure-resource-manager"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="10/05/2016"
   ms.author="rodend;karlku;tomfitz"/>

# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a>Azure 企業 scaffold-規定訂閱管理

企業逐漸採用公用雲端其靈活性和彈性。 他們會利用產生營收或最佳化的企業資源的雲端的優點。 Microsoft Azure 提供服務的眾多企業可以組合像地址的工作量及應用程式的建置組塊。 

不過，了解開始的位置，通常會困難。 決定使用 Azure 之後, 的幾個問題的一些︰

- 「 如何我符合特定國家/地區資料主權我們法律需求？ 」
- 「 如何確定的人不會意外變更重要的系統？ 」
- 「 我如何知道，我可以帳戶，並且帳單精準地回復讓，每個資源什麼支援？ 」

沒有防衛隊滑軌空白訂閱的各種即。 此空格會使您移至 Azure。

本文提供位址需要使用控管和平衡其靈活性需要與技術專業人員的起點。 它會介紹指南中實作及管理其 Azure 訂閱的組織的企業 scaffold 的概念。 

## <a name="need-for-governance"></a>需要管理

將移到 Azure，您必須地址最早控管確定成功使用雲端企業內部的主題有的變。 很抱歉，[時間] 和 [建立全面涵蓋所有內容管理系統的官僚表示一些商務群組直接移至廠商不需要企業的 IT。 這種方法可繼續企業開啟漏洞，如果不會正確地管理資源。 需要快速符合客戶 （內部和外部） 的要求的企業群組重視的公用雲端-靈活性、 彈性與消耗量型價格-特性。 但是，企業 IT 必須以確保資料和系統有效保護。

在實際臨時平台用來建立結構的基礎。 Scaffold 指南一般的外框]，並提供裝載永久系統的定位點。 企業 scaffold 都相同︰ 一組具彈性的控制項和 Azure 提供結構的環境及錨點的內建在公用雲端服務的功能。 它提供產生器 (IT 和商務群組)，建立並將附加新服務的基礎。

Scaffold 根據我們收集從多個互動與用戶端各種大小的作法。 從開發解決方案雲端 Fortune 500 大企業和獨立軟體廠商的移轉，以及開發解決方案在雲端中的小型組織內的用戶端範圍。 企業 scaffold 是 「 特殊用途 」 支援傳統 IT 負載和敏捷式負載; 具彈性例如，建立軟體為-的-服務 (SaaS) 應用程式開發人員會根據 Azure 功能。

企業 scaffold 就是訂閱的要每一個新 Azure 中的基礎。 它可讓系統管理員，以確保負載不防止商務群組及開發人員快速達成其目標符合最低管理組織的需求。

> [AZURE.IMPORTANT] 管理是 Azure 的成功的關鍵。 本文為目標技術實作企業 scaffold，但只緊接著上更廣泛的程序與元件之間的關聯。 原則管理接續頂端的向下，由企業需要達成。 Azure 建立管理模型的當然，包含代表 IT，但是更重要的是應該具有從 [商務] 群組中的前置字元，與安全性與風險管理強式表示。 最後，企業版 scaffold 是降低為了方便您組織的任務和目標的商務風險。

下圖說明的 scaffold 的元件。 基礎依賴的部門、 帳戶及訂閱計劃。 為核心包含資源管理員原則和強式命名標準。 Scaffold 的其餘部分來自核心 Azure 功能與功能的啟用安全且更容易管理環境。

![scaffold 元件](./media/resource-manager-subscription-governance/components.png)

> [AZURE.NOTE] Azure 增長快速自 2008年。 此等比級數，必須具備 Microsoft 工程團隊重新思考管理及部署服務的方法。 Azure 資源管理員模型已在 2014 年推出，且取代傳統部署模型。 資源管理員可以讓組織更輕鬆地部署、 組織及控制 Azure 資源。 資源管理員建立更快速部署複雜、 相依解決方案的資源時，包括平行。 也包含精細存取控制項，以及使用中繼資料標籤資源。 Microsoft 建議您建立的所有資源透過資源管理員模型。 企業 scaffold 明確專為資源管理員模型。

## <a name="define-your-hierarchy"></a>定義階層

Scaffold 是 Azure 企業註冊 （和企業版入口網站）。 企業註冊定義圖案的公司內的 Azure 服務使用，並為核心管理結構。 Enterprise 合約，內客戶可進一步細分成部門、 帳戶及最後，訂閱環境。 Azure 的訂閱是基本單位所包含的所有資源的位置。 也可定義多個限制內 Azure，例如數字的核心、 資源等等。

![階層圖](./media/resource-manager-subscription-governance/agreement.png)

每個企業不同，且在上圖中的階層可讓為重要的彈性 Azure 公司內的組織方式。 實作之前這份文件中所包含的指導方針，您應該模型的階層，並瞭解它對帳單與資源的存取複雜度的影響。

Azure 註冊的三個常見模式是︰

- 此**功能**的模式

    ![功能](./media/resource-manager-subscription-governance/functional.png)

- **業務單位**圖樣 

    ![企業版](./media/resource-manager-subscription-governance/business.png)

- **地理**圖樣

    ![地理](./media/resource-manager-subscription-governance/geographic.png)

您套用延伸管理需求的企業版訂閱的訂閱層級 scaffold。

## <a name="naming-standards"></a>命名標準

第一個圓柱 scaffold 的已命名標準。 設計完善的命名標準可讓您找出在入口網站，在 [帳單和指令碼內的資源。 最有可能，您已經有命名標準的內部部署基礎結構。 Azure 加入您的環境中，您應該將這些命名標準 Azure 資源。 命名標準促進所有層級的環境管理更有效率。

> [AZURE.TIP]
>
> - 檢閱並採用位置可能[的圖樣與作法指引](./guidance/guidance-naming-conventions.md)。 本指南可協助您決定使用哪種有意義的命名標準。
> - 使用 camelCasing 資源 （例如 myResourceGroup 和 vnetNetworkName） 的名稱。 附註︰ 有特定的資源，例如儲存帳戶的唯一選項可使用 [大小寫 （和其他特殊字元）。
> - 請考慮使用強制執行命名標準的 Azure 資源管理員原則 （下一節所述）。
 
## <a name="policies-and-auditing"></a>原則及稽核

第二個圓柱的 scaffold 涉及建立[Azure 資源管理員原則](resource-manager-policy.md)和[稽核活動記錄](resource-group-audit.md)。 資源管理員原則可讓您能夠管理 Azure 中的風險。 您可以定義的原則，確保資料主權限制、 強制，或稽核特定動作。 

- 原則是不是預設**允許**系統。 您可以控制動作來定義並指派原則拒絕或稽核動作資源的資源。
- 原則說明原則定義原則定義語言 （-條件）。
- 您建立原則使用 JSON (Javascript Object Notation) 格式的檔案。 定義原則，將它指派給特定範圍︰ 訂閱，資源群組。 或資源。

原則會有多個動作，以允許您的分析藍本精密的方法。 動作是︰

-   **拒絕**︰ 封鎖資源要求
-   **稽核**︰ 可讓要求，但活動記錄 （這可以用來提供警示，或觸發 runbooks） 中加入一行
-   **新增**︰ 將指定的資訊新增到資源。 例如，如果資源上沒有的 「 CostCenter 」 標籤，請新增該標籤有預設值。

### <a name="common-uses-of-resource-manager-policies"></a>資源管理員原則的常見用法

Azure 資源管理員原則是 Azure 工具組中功能強大的工具。 他們可讓您避免非預期的成本，識別成本中心的資源，透過標記，並確保已符合相容需求。 當原則組合的內建的稽核功能時，您可以以複雜且有彈性的解決方案。 原則允許公司的工作量 「 傳統 IT 」 和 「 Agile 」 負載; 提供控制項例如，開發客戶應用程式。 我們看到原則的常見模式有︰

- **地理-法規遵循/資料主權**Azure 提供世界各地的區域。 企業通常要控制資源建立的位置 （是否以確保資料主權或只是為了確保靠近資源的結束使用者皆會建立資源）。
- **成本管理**-Azure 訂閱最多可以包含許多類型和小數位數的資源。 公司通常要確保標準的訂閱，請避免使用大型不必要的資源，可以成本數百 dollars 一個月或多個。
- **預設管理透過必要的標記**-要求標籤是最常見的與高度所需的功能。 使用 Azure 資源管理員原則企業就能確保資源為適當的標記。 最常見的標籤︰ 部門與資源的擁有者，環境類型 （例如-生產測試、 開發）

**範例**

「 傳統 IT 」 的業務應用程式的訂閱

-   強制執行所有資源的部門和擁有者的標籤
-   限制至北美地區的資源建立
-   若要建立 G 數列 Vm 和 HDInsight 叢集限制

建立雲端應用程式的業務單位的 「 敏捷式 」 環境

- 若要符合資料主權需求，允許建立資源只能在特定的區域。
- 強制執行環境標籤上的所有資源。 如果沒有標籤建立資源時，會將新增**環境︰ 未知**資源的標籤。
- 當資源建立北美以外，但不是會防止稽核。
- 稽核建立高成本資源時。

> [AZURE.TIP]
>
> 控制項可建立*位置*的資源，您可以建立*的資源類型*是最常用的資源管理員在組織的原則。 除了提供的*位置*，*哪些*上的控制項，許多企業會使用原則，以確保資源，為消耗回有適當的中繼資料。 我們建議您套用原則的訂閱層級︰
>
> - 地理-法規遵循/資料主權
> - 成本的管理
> - 必要的標籤 （例如收款，應用程式擁有者的業務需求，以判定）
>
> 您可以套用額外的原則，較低層級的範圍。
 
### <a name="audit---what-happened"></a>稽核-發生什麼事？

若要檢視您的環境的運作方式，您需要稽核使用者活動。 大部分的資源類型 Azure 中建立您可以分析透過記錄工具或 Azure 作業管理套件的診斷記錄。 您可以在多個訂閱提供部門或企業檢視收集活動記錄。 稽核記錄是非常重要的診斷工具和 Azure 環境中的 [觸發事件的重要機制。

將活動記錄從資源管理員部署可讓您決定所花費的**作業**，人員執行其。 活動記錄可以收集和彙總使用等記錄分析工具。

## <a name="resource-tags"></a>資源標籤

為組織中的使用者會將資源新增至訂閱，它會變成越來越重要與適當的部門、 客戶和環境中的資源。 您可以透過[標籤](resource-group-using-tags.md)資源附加中繼資料。 您可以使用標記以提供有關資源或擁有者資訊。 標籤可讓您不只彙總並群組資源各種不同的方式，但為了 chargeback 使用該資料。 您可以標記資源截至 15 的索引鍵︰ 值組。 

資源標記有彈性，與應該附加至大部分的資源。 一般資源標記的範例如下︰

- 收款
- 部門 （或業務單位）
- 環境 （實際執行階段，開發）
- 層 （Web 層、 應用程式層）
- 應用程式擁有者
- 在專案名稱

![標記](./media/resource-manager-subscription-governance/resource-group-tagging.png)

更多範例標籤的詳細資訊，請參閱[命名慣例 Azure 資源的建議](./guidance/guidance-naming-conventions.md)。

> [AZURE.TIP]
>
> 建立您的訂閱在識別何種中繼資料所需的商業、 財務、 安全性、 風險管理和環境的整體管理標記策略。 請考慮將所要求的標記的原則︰
>
> - 資源群組
> - 儲存空間
> - 虛擬機器
> - 應用程式服務環境/網頁伺服器

## <a name="resource-group"></a>資源群組 

資源管理員可讓您將資源放入有意義的群組，以管理帳單，或自然相關性的。 如先前所述，Azure 會有兩種部署模型。 在舊版的傳統模式中，管理的基本單位是訂閱。 很難劃分內的訂閱，建立大量訂閱的資源。 資源管理員模型中，我們可以看到資源群組的簡介。 資源群組是容器的資源常見的生命週期或共用屬性，例如 「 所有 SQL server 」 或 「 應用程式的 」。

資源群組不能包含在彼此和資源只可以指派給某個資源群組。 您可以在 [資源群組中的所有資源套用特定動作。 比方說，刪除資源群組中移除 [資源] 群組中的所有資源。 一般而言，您可以在相同的 [資源] 群組中將整個應用程式或相關的系統。 例如，稱為 「 Contoso Web 應用程式的三個層應用程式會包含網頁伺服器、 應用程式伺服器及相同的 [資源] 群組中的 SQL server。

> [AZURE.TIP]
>
> 您如何組織資源群組可能會有所不同 」 傳統 IT 」 的工作量 「 敏捷式 IT 」 工作量
>
> - 「 傳統 IT 」 負載最常分組的相同的生命週期，例如應用程式中的項目。 個別的應用程式管理可讓應用程式的群組。
> - 「 敏捷式 IT 」 負載通常會將焦點集中在外部的客戶具雲端應用程式。 資源群組應反映出部署 （例如網頁層] 應用程式層） 的圖層] 和 [管理。

## <a name="role-based-access-control"></a>角色型存取控制

您可能會要求您自己 」 誰應有存取權的資源 」？ 與 「 如何控制存取權嗎？ 」 允許或不允許存取 Azure 入口網站，並控制入口網站中的資源存取很重要。 

Azure 初次發行時, 存取控制項的訂閱已基本︰ 管理員或共同的系統管理員。 存取在傳統模型暗示存取入口網站中的所有資源的訂閱。 精密的控制缺乏導致 Azure 註冊提供合理存取控制的層級的訂閱。

已不再需要此激增的訂閱。 使用角色型存取控制項，您可以將使用者指派至標準的角色 （例如 「 讀取 」 和 「 作者 」 常見的角色）。 您也可以定義自訂的角色。

> [AZURE.TIP]
>  
> - 若要使用 AD Connect 工具的 Azure Active Directory 連線您公司的身分識別的儲存區 (最常 Active Directory)。
> - 控制使用受管理的身分識別的訂閱管理員/共同管理員。 **未**指派系統/共同-管理員給新的訂閱擁有者。 請改用 RBAC 角色群組或個別提供**擁有者**權限。
> - 新增至群組 （例如，應用程式 X 擁有者） 的使用者 Azure Active Directory 中。 使用同步處理的群組，提供群組成員的適當權限管理包含應用程式的資源群組。
> - 請遵循的授與預期處理所需的**最低權限**。 例如︰
>     - 部署群組︰ 群組，才能夠部署資源。
>     - 虛擬機器管理︰ 群組，可以重新啟動 Vm （操作）

## <a name="azure-resource-locks"></a>Azure 資源鎖定

為您的組織加核心服務訂閱，它會變成越來越重要，以確保這些服務可避免業務中斷。 [資源鎖定](resource-group-lock-resources.md)可讓您限制修改或刪除其中有嚴重影響您的應用程式或雲端基礎架構的最高值資源的作業。 您可以套用鎖定訂閱、 資源] 群組中，或資源。 一般而言，您可以套用鎖定基礎的資源，例如虛擬網路、 閘道和儲存的帳戶。 

資源鎖定目前支援兩個值︰ CanNotDelete 及唯讀。 CanNotDelete 表示 （以適當的權限） 的使用者仍可讀取或修改資源，但無法將其刪除。 唯讀表示授權的使用者無法刪除或修改資源。

若要建立或刪除管理鎖定，您必須存取`Microsoft.Authorization/*`或`Microsoft.Authorization/locks/*`動作。
內建的角色，只有擁有者和使用者存取系統管理員會授與這些動作。

> [AZURE.TIP] 核心網路選項應該鎖定受保護。 閘道器的不慎刪除，網站-VPN 應慘 Azure 訂閱。 Azure 不允許您刪除虛擬網路中使用，但套用更多的限制會很有幫助預防措施。 原則，也會很重要的適當的控制項進行的維修作業。 我們建議您套用至原則**CanNotDelete**鎖定使用中。
>
> - 虛擬網路︰ CanNotDelete
> - 網路安全性群組︰ CanNotDelete
> - 原則︰ CanNotDelete

## <a name="core-networking-resources"></a>核心網路資源

（在公司網路） 的內部或外部 （透過網際網路），可以是資源的存取權。 您可以輕鬆的組織中的使用者不小心將資源放在錯誤的位置，並潛在惡意 access 開啟。 如同內部部署的裝置，企業必須將適當的控制項，以確保 Azure 使用者進行正確的決策。 訂閱控管，我們將找出提供基本控制的存取權的核心資源。 核心資源包括︰

- **虛擬網路**的子網路的容器物件。 雖然並非嚴格必要，通常用於連線至內部企業資源的應用程式時。
- **網路安全性群組**類似的防火牆，並在網路上的方式資源可以 」 與 「 提供規則。 提供細微地控制如何 / 如果子網路 （或虛擬機器） 可以連線至網際網路或相同的虛擬網路中其他子網路。

![核心網路](./media/resource-manager-subscription-governance/core-network.png)

> [AZURE.TIP]
>  
> - 建立虛擬專用的外部具工作量及內部工作負載的網路。 這種方法可減少不慎放置是針對外部的具空間中的內部工作負載的虛擬機器的機率。
> - 網路安全性群組非常重要這項設定。 在最小值，封鎖存取網際網路內部虛擬網路，然後封鎖外部虛擬網路至公司網路的存取。

### <a name="automation"></a>自動化

個別管理資源是耗時和潛在出錯對特定的作業。 Azure 提供各種不同的自動化功能，包括 Azure 自動化邏輯應用程式，與 Azure 函數。 [Azure 自動化](./automation/automation-intro.md)可讓系統管理員建立和定義 runbooks 處理中管理資源的一般工作。 您可以使用 PowerShell 的程式碼編輯器或圖形編輯器建立 runbooks。 您可能會產生複雜的多階段工作流程。 Azure 自動化常用來處理常見的工作，例如關閉未使用的資源，或建立特定的觸發程序來回應的資源，並不需要有人可以操作。

> [AZURE.TIP]
>
> - 建立 Azure 自動化帳戶，並檢閱[Runbook 圖庫](./automation/automation-runbook-gallery.md)中提供使用 runbooks （圖形化和命令列）。
> - 匯入及自訂鍵 runbooks 供自己使用。
>
> 常見的案例是在排程的開始/關閉虛擬機器的能力。 有範例 runbooks，可在圖庫中同時處理這種情況下，教您如何將其展開。


## <a name="azure-security-center"></a>Azure 資訊安全中心

可能是其中一個雲端採用最大的封鎖已疑慮透過安全性。 IT 風險經理和安全性部門必須以確保安全 Azure 中的資源。 

[Azure 資訊安全中心](./security-center/security-center-intro.md)提供中央的訂閱，請在資源的安全性狀態檢視，並提供協助防止洩漏的資源的建議。 它可以啟用微調原則 （例如，套用原則至特定的資源群組，讓企業依需求自訂它們處理風險其狀態）。 最後，Azure 資訊安全中心是開啟的平台可讓您的 Microsoft 合作夥伴及獨立軟體廠商，以建立可插入 Azure 資訊安全中心增強其功能的軟體。 

> [AZURE.TIP]
>
> 每個訂閱中的預設會啟用 azure 資訊安全中心。 不過，您必須啟用允許安裝其代理程式，並開始收集資料資訊安全中心 Azure 虛擬機器中的資料集合。
>
> ![資料收集](./media/resource-manager-subscription-governance/data-collection.png)

## <a name="next-steps"></a>後續步驟

- 現在，您已經學會瞭解訂閱管理，則若要查看這些建議在練習中的時間。 請參閱[實作 Azure 訂閱管理的範例](resource-manager-subscription-examples.md)。

*本主題 aggregate[卡爾 Kuhnhausen](https://github.com/karlkuhnhausen) 。*
